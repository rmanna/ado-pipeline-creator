<!DOCtype html>
<html>
<head>
<script type='text/javascript' src='https://ajax.googleapis.com/ajax/libs/jquery/3.1.1/jquery.min.js'></script>
<link href='https://fonts.googleapis.com/css?family=Rosario:800' rel='stylesheet' type='text/css'>
<link rel="stylesheet" type="text/css" href="../css/landscape.css">
<title>{{.Title}}</title>
</head>

<script type='text/javascript'>
 $(document).ready(function() {
   $('select[name=BuildType]').change(function(){
       document.getElementsByName("status")[0].value = "changed";
       $('form').submit();
   });
});
</script>

<body>
<nav>
<ul>
  <li><a href="/">Home</a></li>
  <li><a class="active" href="creator">Pipeline Creator</a></li>
</ul>
</nav>

<div class="mainbody">
<h1>Create your Pipeline!</h1>
<p>Enter all appropriate information</p>
</div>

<div class="form">
<form method="post" action="/execute">
<table align-center>
  <tr>
    <td>Repository Name: </td>
    <td><input type="text" name={{.ServiceName}} value={{.ServiceValue}}></td>
  </tr>
  <tr>
      <td class="select">Application Type: </td>         
      <td>
         <select name="BuildType">        
              <option value={{.BuildTypeValue}}>{{.BuildTypeValue}}</option>
              <option value="javaMvn">java-maven</option>
              <option value="javaGradle">java-gradle</option>
              <option value="vueNpm">vue-npm</option>
              <option value="angularNpm">angular-npm</option>
              <option value="golang">go</option>
         </select>
      </td>        
  </tr>
  {{with $4:=.BuildFields}}
     {{range $4}}
  <tr>
    <td>{{.Name}}: </td>
    <td><input type="text" name={{.Name}} value={{.Value}}></td>
  </tr>
     {{end}}
  {{end}}

  <tr>
    <td>E-mail address: </td>
    <td><input type="text" name={{.Email}} value={{.EmailValue}}></td>
  </tr>
  <tr>
    <td><input type="hidden" name="status" value={{.Status}}/></td>
    <td><input type="submit" value="Create"></td>
  </tr>
</table>
</form>
</div>

</body>
</html>
